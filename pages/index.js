import { getAllFilesMetadata } from "../lib/mdx";
import { orderByDate } from "../lib/order-by-date";
import { Container, VStack, Heading, Text, Link } from "@chakra-ui/react";
import PostList from "../src/components/blog/PostList";
import HomeCard from "../src/components/HomeCard/HomeCard";
import { ExternalLinkIcon } from "@chakra-ui/icons";

export default function Home({ posts }) {
  return (
    <Container maxW={"7xl"} p="12">
      <HomeCard></HomeCard>
      <PostList posts={posts}></PostList>
      {/* <VStack paddingTop="50px" spacing="6" alignItems="flex-start">
        <Heading as="h2">¬øDe qu√© suelo escribir?</Heading>
        <Text as="p" fontSize="lg">
          Me gusta ir comentando cosas relevantes o de importancia a medida qu√©
          las voy aprendiendo (un poco de todo üòÇ). Normalmente es algo bastante
          as√≠ncrono con respecto a la publicaci√≥n as√≠ qu√© no se esperen un post
          de algo qu√© sali√≥ ayer. Tampoco soy en genio de la redacci√≥n, lo ir√©
          escribiendo con la finalidad de qu√© los art√≠culos sean apuntes.
        </Text>

        <Heading as="h2">¬øTe gusta la p√°gina?</Heading>
        <Text as="p" fontSize="lg">
          Aqu√≠ te dejo un enlace al{" "}
          {
            <Link
              href={"https://github.com/Wolfremium13/blog-react"}
              color="teal.200"
              isExternal
            >
              repositorio <ExternalLinkIcon w={3} h={3} color="teal.200" />
            </Link>
          }{" "}
          por si lo quieres clonar, no tiene nada del otro mundo (de momento üòé).
        </Text>
      </VStack> */}
    </Container>
  );
}

export async function getStaticProps() {
  const allPosts = getAllFilesMetadata();
  const maxPosts = 3;
  const posts = allPosts.sort(orderByDate).slice(0, maxPosts);
  return {
    props: {
      posts,
    },
  };
}
